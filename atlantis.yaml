version: 3

#
# Projects
#
projects:

# Control Plane
- name: example-basic
  dir: example/basic
  autoplan:
    when_modified: ["**/*.tf", "*.tf"]
    enabled: true
  workflow: tflint_tfsec_plan
  terraform_version: v0.12.26
  apply_requirements: [mergeable, approved]

- name: example-volume-attachment
  dir: example/volume-attachment
  autoplan:
    when_modified: ["**/*.tf", "*.tf"]
    enabled: true
  workflow: tflint_tfsec_plan
  terraform_version: v0.12.26
  apply_requirements: [mergeable, approved]

- name: module-project
  dir: .
  autoplan:
    when_modified: ["**/*.tf", "*.tf", "!example"]
    enabled: true
  workflow: tflint_tfsec
  terraform_version: v0.12.26
  apply_requirements: [mergeable, approved]
